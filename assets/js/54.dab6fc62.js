(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{473:function(a,t,e){"use strict";e.r(t);var s=e(42),r=Object(s.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"kafka集群搭建-返回"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#kafka集群搭建-返回"}},[a._v("#")]),a._v(" kafka集群搭建 "),e("RouterLink",{attrs:{to:"/",title:"首页"}},[a._v("返回")])],1),a._v(" "),e("h2",{attrs:{id:"一、zookeeper集群搭建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、zookeeper集群搭建"}},[a._v("#")]),a._v(" 一、zookeeper集群搭建")]),a._v(" "),e("p",[a._v("略，请参考其他文档，这里不再赘述。")]),a._v(" "),e("h2",{attrs:{id:"二、下载kafka"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、下载kafka"}},[a._v("#")]),a._v(" 二、下载kafka")]),a._v(" "),e("p",[a._v("从kafka官网下载kafka_2.11-0.11.0.0.tgz，并解压。")]),a._v(" "),e("div",{staticClass:"language-jshelllanguage extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("tar -zxvf kafka_2.11-0.11.0.0\n")])])]),e("h2",{attrs:{id:"三、kafka配置修改"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三、kafka配置修改"}},[a._v("#")]),a._v(" 三、kafka配置修改")]),a._v(" "),e("p",[a._v("这里我们仅以两台kafka实例做集群。")]),a._v(" "),e("p",[a._v("打开kafka属性文件")]),a._v(" "),e("div",{staticClass:"language-jshelllanguage extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("vim ${kafka_home}/config/server.properties\n")])])]),e("p",[a._v("修改其中的关键属性")]),a._v(" "),e("div",{staticClass:"language-properties extra-class"},[e("pre",{pre:!0,attrs:{class:"language-properties"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# The id of the broker. This must be set to a unique integer for each broker.")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("broker.id")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("0")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Zookeeper connection string (see zookeeper docs for details).")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# This is a comma separated host:port pairs, each corresponding to a zk")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v('# server. e.g. "127.0.0.1:3000,127.0.0.1:3001,127.0.0.1:3002".')]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# You can also append an optional chroot string to the urls to specify the")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# root directory for all kafka znodes.")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("zookeeper.connect")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("192.168.2.233:2181,192.168.2.234:2181,192.168.2.235:2181")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# The default number of log partitions per topic. More partitions allow greater")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# parallelism for consumption, but this will also result in more files across")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# the brokers.")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("num.partitions")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("1")]),a._v("\n")])])]),e("blockquote",[e("p",[a._v("broker.id 第一台机器写0，第二台机器写1，以此类推。")])]),a._v(" "),e("blockquote",[e("p",[a._v("zookeeper.connect ：将zookeeper集群的地址和端口写上。")])]),a._v(" "),e("blockquote",[e("p",[a._v("num.partitions=1 ：每个topic的partition默认数量。可根据自己项目的情况进行配置。")])]),a._v(" "),e("blockquote",[e("p",[a._v("其他属性请参照官网。")])]),a._v(" "),e("h2",{attrs:{id:"四、kafka集群启动"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#四、kafka集群启动"}},[a._v("#")]),a._v(" 四、kafka集群启动")]),a._v(" "),e("div",{staticClass:"language-jshelllanguage extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("nohup ${kafka_home}/bin/kafka-server-start.sh ${kafka_home}/config/server.properties &\n")])])]),e("p",[a._v("将两台机器的kafka启动，集群搭建完毕。")]),a._v(" "),e("p",[a._v("集群搭建就是这么简单。")])])}),[],!1,null,null,null);t.default=r.exports}}]);